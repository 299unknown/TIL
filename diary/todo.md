# todo  

---

## 20240125  
### 인프런 스프링  
#### 트랜잭션 전파 실무예시  
이 트랜잭션의 전파의 쉬운 예시는 service - repository 관계이다.  
기본적으로 데이터를 하나씩 조회하는 repository에 @Transactional이 적혀있고 이것들을 사용하는 service단에도 메소드마다 @Transactional을 달아주면서 자연스럽게 트랜잭션전파를 쓰는것  
여기서 어떠한 repository든 하나라도 이상이 생기면 service의 함수 전체 내용이 커밋되지않는 방식은 맞다.  
다만 한가지 유의 사항  
만약 두가지 repository기능중에 하나가 오류가 나더라도 그 상황을 커밋, 저장하고 싶을때(임시데이터 저장의 오류 그냥 넘기로 했을때)  
이럴때 문제인것이 임시저장의 repository의 예외 발생 - service에서 catch예외처리완료 정상흐름 - 그렇지만 전체다롤백됨  
이유는 예외 하나가 발생한것은 내가 잡아서 처리하더라도 전체묶음 @Transactional에서 한번 오류가 발생하면 rollbackOnly라고 트랜잭션에 기입함  
예외는 처리완료해도 저 rollbackOnly마크는 계속 있기때문에 이거보고 전체 롤백  
그래서 이때 repository기능중에 하나가 오류가 나더라도 그 상황을 커밋, 저장하고 싶을때(임시데이터 저장의 오류 그냥 넘기로 했을때) 는 그 오류가 난쪽에 @Transactional(~~~ = REQUIRES_NEW)옵션 적용시켜서 따로 돌아가도록 설정가능  
그외에 서비스 앞단을 하나더 만들어서도 가능 여러방법있음  

#### 로그추적기예제의 필드동기화 동시성 문제  
로그추적기를 만든다. 유저가 요청을 보내면 그 요청에 대한 클레스 사용을 지나갈때마다 출력하며 다시 컨트롤러단으로 돌아올때는 시간과 예외가 있다면 예외도 출력  
이때 이것을 수행하는 클레스를 싱글톤으로 등록해서 사용하면 동시성 문제가 생긴다.  
즉 원래 1사람의 요청을 수행하는데 총 1초가 걸린다면 또다른 사람이 1초가 지나기전에 다시 요청을하면  
로그추적지 클레스가 첫번째사람의 깊이를 0,1,2 이렇게 저장하고 있다가 이것이 다시 0으로 초기화 되기전에 다른사람이 요청하면 2부터 시작해서 ,3,4 이런식으로 증가하게되는 = 싱글톤의 동시성 문제가 발생한다.  

### 인프런 코테

#### 1-1
오랜만의 까먹은거 주의  
```java
Scanner sc = new Scanner(System.in); //스캐너받기
String str = sc.next();
char input = sc.next().charAt(0); 
for (char i : str.toUpperCase().toCharArray()) //향상된 for문

String비교시에는 str.equals()쓰는거 주의 
```


---
## 20240124  

인프런  

### 인프런  
#### 트랜잭션 적용범위  
자세한것 우선  

#### 트랜잭션 AOP주의사항  
내부 호출에는 적용 안됨  
```java
class ~~
public one () {
two();
}

@Transactional
public two() {
sout~
}
```
이런상황에서 two();는 this.two()가 생략된것 즉 this = 자신의 인스턴스 본체 = 프록시 객체가 아닌 진짜너셕을 호출한다는 뜻  
해결법은 클래스 나누기  
  
의존관계주입, 생성자 직후 @Postconstruce의 동작은 @Transcational은 적용이 안됨 트랜잭션 프록시등의 기능이 더 나중에 실행되서 안됨 

#### 트랜잭션 옵션  
트랜잭션은 커밋 롤백을 위한 틀이기도 하기에 어떤 상황에서 무엇을 선택할지 옵션등 여러가지 있음 readonly사용하면 어디부분에서 최적화 되는지도 설명  

#### 트랜잭션 커밋롤백  
런타임 예외는 롤백하지만 체크예외는 커밋함 이유는 개발자들이 체크예외는 시스템상의 문제가 아니고 예를 들어 사용자가 잘못한 상황에서 일단 값을 저장하고 다른 안내를 하는등의 방향으로 사용가능 그래서 커밋이 기본값  

#### 트랜잭션 전파  
트랜잭션 안에서 다시 트랜잭션이 시작할경우 그냥 가장 밖의 트랜잭션에 함께가게됨 즉 가장 밖의 시작-커밋 이렇게 한번만 묶어서 들어가는것  

#### REQUIRES_NEW  
내부 트랜잭션에서 REQUIRES_NEW설정을 해주면 얘는 아에 따로 새로운 커넥션 가져와서 완전히 별개로 작동가능  
그외에 옵션들 몇개더있  

---

## 20240122  
cicd  

---

## 20231212

- [ ] 코테1일차
- [ ] 블로그복붙


---

## 20231212

- [ ] 인프런
- [ ] 코테

---

## 20231211

- [x] 캡디플젝마무리
- [ ] 인프런
- [ ] 코테

---

## 20231210  

- [x] 캡디플젝마무리  

---

## 20231209  
1. 개인플젝
1. 코테 1시간
1. 인프런 1시간  

---

## 20231208  
1. spa api o
1. 개인플젝 배포설정  

---

## 20231206  
1. kirukiru초기설정 o
1. 자바로 목적지 입력하면 해당 위지의 위도경도 리턴 함수 방식 검색 o

---
