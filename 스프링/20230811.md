# 2023/08/11

# 스프링 소셜로그인 Body값으로 토큰 리턴

스프링으로 소셜로그인을 구현할때 원래 알던 방식은 스프링 커스텀 필터를 이용해서 로그인 인증인가 처리를 하는것인데  

이방식으로는 저번에 리디렉션 URL의 파라미터로만 값을 전달 할 수 있다고 알고 있었다.

그런데 이게 소셜로그인 인증을 거치면서 여러번의 리디렉션이 되는대 이때의 주소를 바로 컨트롤에서 받아서 처리하는방식으로 리디렉션이 아니라 다시 서버로 받아서 처리하는방법이 있던거같다.  

그리고 인증인가 토큰검증을 필터에서하는게 아니라 컨트롤러의 파라미터 리졸버를 재정의 해서 하는거도 같았다.  

이건물어봐야할듯..

---

# 2023/08/14

# 스프링 스웨거 fatch오류
개발중에 스웨거에서 fatch오류가 계속 났는데 이게 도메인이 적용된 특정방식에서는 도메인 주소를 사용하면 오류가 나는 경우가 있다고 하는거같다. 

내가 서버를 배포한게 아니라서 잘은 모르겠다.

# 안드로이드 소셜로그인
안드로이드 프로젝트 진행중인데 소셜로그인을 구현을 프론트쪽에서 모두 수행하는게 맞다고 한다. sdk이용하면 조금 쉬워보이기는하다. 그래서 백엔드에서는 프론트에서 넘겨주는 특정 유저의 코드, 회원정보만 받아서 회원가입 시키고 그 유저의 코드를 기반으로 jwt를 만들어서 보내주면 될거같다.

# jwt
저번에 적은 jwt 문제 그거 리졸버에서 검증하는게 맞다고한다. 지금 내부 코드는 정확히 안뒤져봐서 봐야겠지만
특정 어노테이션 쓰면 컨트롤러단에서 검증하면서 요청에 복호화한 유저정보가 들어가는듯? 하다

이렇게 쓰면 간단하기는한데 리졸버에서 해결하는게 맞는가싶다. 추가 공부나 질문 해봐야할듯
